# rewards-claimer

Инструмент для сбора наград за лендинг на https://app.kava.io/lend и реинвестирования дохода со стейкинга

## Содержание

- [Введение](#Введение)
- [Установка](#Установка)
- [Использование](#Использование)
- [Поддержка](#Поддержка)

## Введение

Набор скриптов rewards-claimer предназначен для сбора вознаграждений в KAVA за лендинг на https://app.kava.io/lend с их последующей отправкой в стейкинг. В текущей версии (v1.0.1) работа осуществляется только с монетой KAVA посредством запуска скрипта вручную, однако в дальнейшем станет возможным осуществлять автоматическое (по расписанию) реинвестирование наград за стейкинг других монет экосистемы Cosmos.

Для работы со скриптами может понадобиться установка дополнительного программного обеспечения, требующего около 150 МБ свободного дискового пространства.

## Установка

Для запуска javascript кода на компьютере (вне браузера) необходимо установить среду исполнения nodejs, которую можно взять по ссылке https://nodejs.dev/download 
Скачиваем LTS версию под нужную операционную систему и устанавливаем. Корректность установки можно проверить, введя в **командной строке (терминале)** команду:
```sh
node -v
```
В случае успеха должна отобразиться версия среды.

Скачиваем непосредственно набор скриптов rewards-claimer по ссылке https://github.com/Fewed/rewards-claimer
Для этого нужно кликнуть по зеленой кнопке **Code** и выбрать вкладку **Download ZIP**, сохранить архив и распаковать его так, чтобы **в корневой директории диска C** появилась папка `rewards-claimer`.

Для работы rewards-claimer потребуется загрузить несколько модулей через менеджер nodejs. Открываем **командную строку (терминал)** и последовательно выполняем команды:
```sh
cd C:\rewards-claimer
npm i
```
По завершении загрузки должна появиться папка `node_modules`.

## Использование

Чтобы у программы была возможность подписывать транзакции с адресов пользователя, необходимо импортировать сид фразы. **Все введенные фразы шифруются пользовательским паролем и сохраняются в файл `seeds.txt` в папке `config`. Пароль нигде не сохраняется и его требуется вводить каждый раз при запуске скриптов.**
Для добавления новой сид фразы следует выполнить команду терминала
```sh
npm run add
```
* В строке `password` указываем пользовательский пароль. Из соображений приватности он не отображается во время набора.
* В строке `seed` указываем сид фразу.
* В строке `validator` указываем адрес валидатора, которому отправляем монеты на стейкинг. Посмотреть его можно на https://www.mintscan.io/ во вкладке **validators** - нас интересует  **Operator Address**.
* В строке `claimOption` вводим параметр, отвечающий за то, каким образом будут делегироваться монеты:
`r` - делегируются только те монеты, которые были получены за лендинг;
`m0.01` - делегируются монеты, которые были получены за лендинг, и монеты, которые были на балансе, так, чтобы баланс не опустился ниже **0.01 KAVA**;
`f0.2` - делегируется фиксированное количество монет (в данном случае **0.2 KAVA**).
Рекомендуется указывать `r`, если нужно делегировать только награды за лендинг, или `m0.01`, если хочется делегировать награды с лендинга и реинвестировать награды со стейкинга (значение неснижаемого баланса можно установить на свое усмотрение).

После ввода последнего параметра появится предложение добавить еще одну запись. Чтобы это сделать, нужно ввести `y`. Чтобы завершить выполнение скрипта, нужно ввести `n`. Теперь необходимо закрыть терминал, чтобы скрыть введенные ранее сид фразы. Проверить правильность настроек адресов валидаторов и опций делегирования и скорректировать их при необходимости можно, открыв текстовым редактором файл `config.json` в папке `config`.

После завершения настроек, можно приступить к сбору наград. 
Открываем терминал и выполняем последовательно команды:
```sh
cd C:\rewards-claimer
npm run claim
```

Далее вводим пароль в поле `password` и наблюдаем за работой скрипта. В случае успешного сбора наград выводится строка по типу
```sh
kava...fghjk claimed 0.5 (1/2)
```
что означает, что по адресу `kava...fghjk` собрано **0.5 KAVA** наград за лендинг, прогресс - один адрес из двух.
В случае успешного делегирования появляется сообщение по типу
```sh
kava...fghjk delegated 0.5 (1/2)
```
что означает, что с адреса `kava...fghjk` делегировано **0.5 KAVA**, прогресс - один адрес из двух.

Время выполнения скрипта обычно составляет не более **полминуты**, за транзакции уплачивается суммарно **0.0005 KAVA** комиссии. Если по причине повышенной нагрузки на сеть не все транзакции прошли, можно вызвать скрипт повторно.

## Поддержка

При возникновении трудностей в результате использования скриптов обращаться к **@defailt_handle** в телеграм.

Поддержать развитие проекта можно по ссылке https://app.starname.me/profile/*m_daeva 
